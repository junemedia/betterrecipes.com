!function(t,$,e){function o(){$(i).parent().removeClass(l)}var n="preview-youtube",i="."+n,a="lazyload-info-icon",r="."+a,l="js-lazyload--not-loaded",s=.5625,d="";t.init=function(t){u(t),$(document).ready(p()).ajaxStop(function(){p()}),"function"==typeof f.init&&c.responsive===!0?f.init():o(),"function"==typeof c.callback&&c.callback()};var c,u=function(t){c=$.extend({theme:"dark",colour:"red",controls:!0,loadpolicy:!0,showinfo:!0,relations:!0,buttonstyle:"",preroll:"",postroll:"",videoseo:!1,responsive:!0,thumbnailquality:"0",displaybranding:!1,callback:null},t)},p=function(){$("a.lazy-load-youtube").each(function(t){var o=$(this),i=o.attr("href"),l,u="";!function S(){l=i.split("/embed/")[1],l||(l=i.split("://youtu.be/")[1]),l||(l=i.split("v=")[1].replace(/\&/,"?"))}();var p=l.split("?")[0].split("#")[0];!function W(){u=c.preroll!==e&&c.preroll!==u?c.preroll:l}();var h="//www.youtube.com/embed/"+u,v=function(){return'<a class="'+a+'" href="//kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},m=function(){if(c.displaybranding===!0&&0===o.siblings(r).length){var t=o,e=$(v());t.before(e)}};m();var y=function(){return o.attr("video-title")!==e?o.attr("video-title"):o.html()!==e&&""!==o.html()?o.html():""},b=function(t){return"//www.youtube.com/watch?v="+t},w=function(t){var e=parseInt(t.css("width"))-4;return e},g=function(t){var e=0;if(c.responsive===!1)e=parseInt(t.css("height"))-4;else{var o=w(t);e=Math.round(o*s)}return e},z=0,k=[3600,60,1],x=l.match(/[#&?]t=(?:(\d+)(?:h))?(?:(\d+)(?:m))?(?:(\d+)(?:s))?/);if(x)for(var _=1;_<x.length;_++)"undefined"!=typeof x[_]&&(z+=parseInt(x[_])*k[_-1]);0===z&&(x=l.match(/[#&?](?:t|start)=(\d+)/),x&&(z=x[1])),l=l.split("#")[0];var j="";z&&0!==z&&-1===l.indexOf("start=")&&(j=(-1===l.indexOf("?")?"?":"&")+"start="+z);var I="";c.videoseo===!0&&(I=' itemprop="name"'),o.html(-1!==l.indexOf("showinfo=0")?"":'<div class="lazy-load-youtube-info"><span class="titletext youtube"'+I+">"+y()+"</span></div>"),o.prepend('<div style="height:'+g(o)+"px;width:"+w(o)+'px;" class="lazy-load-youtube-div"></div>').addClass(c.buttonstyle);var O=function(t){var e="//i2.ytimg.com/vi/"+t+"/"+c.thumbnailquality+".jpg";d=e};O(p);var C=function(){return d},L=function(t){var e=C(),o=$('<img style="display:none" src="'+e+'"/>');o.load(function(){120===o.width()&&(e=e.replace("maxresdefault","0")),"none"===t.css("background-image")&&t.css("background","#000 url("+e+") center center no-repeat"),o.remove()}),$("body").append(o)};L(o),c.videoseo===!0&&(o.append('<meta itemprop="contentLocation" content="'+b(p)+'" />'),o.append('<meta itemprop="embedUrl" content="'+h+'" />'),o.append('<meta itemprop="thumbnail" content="'+C()+'" />'),$.getJSON("//gdata.youtube.com/feeds/api/videos/"+p+"?v=2&alt=jsonc&callback=?",function(t){o.append('<meta itemprop="datePublished" content="'+t.data.uploaded+'" />'),o.append('<meta itemprop="duration" content="'+t.data.duration+'" />'),o.append('<meta itemprop="aggregateRating" content="'+t.data.rating+'" />')})),o.attr("id",p+t),o.attr("href",b(p)+(z?"#t="+z+"s":"")),function J(){var t="",o="",n="",i="",a,r,l,s;c.theme!==e&&c.theme!==t&&"dark"!==c.theme&&(t="&theme="+c.theme),c.colour!==e&&c.colour!==o&&"red"!==c.colour&&(o="&color="+c.colour),a=c.showinfo?"":"&showinfo=0",r=c.relations?"":"&rel=0",l=c.controls?"":"&controls=0",s=c.loadpolicy?"":"&iv_load_policy=3",u=u!==p?p+",":"",c.postroll!==e&&c.postroll!==n&&(n=c.postroll),(""!==u||""!==n)&&(i="&playlist="+u+n),h+=(-1===h.indexOf("?")?"?":"&")+"autoplay=1"+t+o+l+s+a+r+i+j}();var q='<iframe width="'+parseInt(o.css("width"))+'" height="'+parseInt(o.css("height"))+'" style="vertical-align:top;" src="'+h+'" frameborder="0" allowfullscreen></iframe>';$(this).on("click",function(){return F(this),M(this),$("#"+p+t).replaceWith(q),"function"==typeof f.resize&&c.responsive===!0&&f.resize(),!1});var F=function(t){$(t).removeClass(n)},M=function(t){$(t).prev(r).remove()}})};$.fn.bindFirst=function(t,e){var o=$(this);o.unbind(t,e),o.bind(t,e);var n=$._data(o[0]).events,i=n[t];i.unshift(i.pop()),n[t]=i};var f={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){f.config.container.length>0&&($(window).on("resize",f.resize),$(window).bindFirst("load",function(){f.resize()}),$(window).on("load",function(){f.resize(),o()}))},resize:function(){$(f.config.selector,f.config.container).each(function(){var t=$(this),e=t.parent().width(),o=Math.round(e*s);t.attr("height",o),t.attr("width",e),t.css({height:o,width:e})})}};$(function(){t.init(lazyload_video_settings.youtube)})}(window.lazyload_youtube=window.lazyload_youtube||{},jQuery);