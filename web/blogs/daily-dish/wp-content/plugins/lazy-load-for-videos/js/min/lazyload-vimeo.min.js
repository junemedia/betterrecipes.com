function showThumb(e){jQuery("#"+e[0].id).css("background","#000 url("+e[0].thumbnail_large+") center center no-repeat"),lazyload_video_settings.vimeo.show_title&&jQuery("#"+e[0].id).children().children(".titletext.vimeo").text(e[0].title)}!function(e,$,t){function n(){$(a).parent().removeClass(c)}function i(){g(),f(),v()}var o="preview-vimeo",a="."+o,r="lazyload-info-icon",l="."+r,c="js-lazyload--not-loaded",s=.5625;e.init=function(e){u(e),$(document).ready(i()).ajaxStop(function(){i()}),"function"==typeof k.init&&d.responsive===!0?k.init():n(),"function"==typeof d.callback&&d.callback()};var d,u=function(e){d=$.extend({buttonstyle:"",playercolour:"",videoseo:!1,responsive:!0,displayBranding:!1,callback:null},e)},p=function(){return'<a class="'+r+'" href="//kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},f=function(){if(d.displayBranding===!0&&0===$(a).siblings(l).length){var e=$(a),t=$(p());e.before(t)}},v=function(){$(a).on("click",function(){var e=j(this);m(this),h(this);var t="";d.playercolour!==t&&(d.playercolour=b(d.playercolour),t="&color="+d.playercolour),$(this).html('<iframe src="'+y(e)+"?autoplay=1"+t+'" style="height:'+parseInt($("#"+e).css("height"))+'px;width:100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen autoPlay allowFullScreen></iframe>'),"function"==typeof k.resize&&d.responsive===!0&&k.resize()})},m=function(e){$(e).removeClass(o)},h=function(e){$(e).prev(l).remove()},y=function(e){return"//player.vimeo.com/video/"+e},b=function(e){var t=e.toString().replace(/[.#]/g,"");return t},g=function(){$(a).each(function(){var e=j(this),t=$(this);t.empty(),w(e)})},w=function(e){var t=_(e)+".json?callback=showThumb",n=document.createElement("script");n.type="text/javascript",n.src=t;var i="";d.videoseo===!0&&(i=' itemprop="name"'),$("#"+e).prepend(n).prepend('<div style="height:'+parseInt($("#"+e).css("height"))+"px;width:"+parseInt($("#"+e).css("width"))+'px;" class="lazy-load-vimeo-div"><span class="titletext vimeo"'+i+"></span></div>").addClass(d.buttonstyle),z(e)},z=function(e){d.videoseo===!0&&$.getJSON(_(e)+"?callback=?",{format:"json"},function(t){$("#"+e).append('<meta itemprop="contentLocation" content="'+t[0].url+'" />'),$("#"+e).append('<meta itemprop="embedUrl" content="'+y(e)+'" />'),$("#"+e).append('<meta itemprop="thumbnail" content="'+t[0].thumbnail_large+'" />'),$("#"+e).append('<meta itemprop="datePublished" content="'+t[0].upload_date+'" />'),$("#"+e).append('<meta itemprop="duration" content="'+t[0].duration+'" />'),$("#"+e).append('<meta itemprop="aggregateRating" content="'+t.data.rating+'" />')})},_=function(e){return"//vimeo.com/api/v2/video/"+e+".json"},j=function(e){var t=$(e).attr("id");return t};$.fn.bindFirst=function(e,t){var n=$(this);n.unbind(e,t),n.bind(e,t);var i=$._data(n[0]).events,o=i[e];o.unshift(o.pop()),i[e]=o};var k={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){k.config.container.length>0&&($(window).on("resize",k.resize),$(window).bindFirst("load",function(){k.resize()}),$(window).on("load",function(){k.resize(),n()}))},resize:function(){$(k.config.selector,k.config.container).each(function(){var e=$(this),t=e.parent().width(),n=Math.round(t*s);e.attr("height",n),e.attr("width",t),e.css({height:n,width:t})})}};$(function(){e.init(lazyload_video_settings.vimeo)})}(window.lazyload_vimeo=window.lazyload_vimeo||{},jQuery);